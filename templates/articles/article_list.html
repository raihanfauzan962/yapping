{% extends "_base.html" %}
{% load static %}

{% block title %}Articles{% endblock title %}

{% block content %}
<h1>Articles</h1>
<div style="width: 65%; padding-right: 20px;">
    <h4 style="margin-bottom: 20px; border-bottom: 1px solid #ddd; font-family: 'Dancing Script', cursive;">For you</h4> <!-- Added line under "For you" text -->
    
    {% if articles %}
      <ul style="list-style: none; padding: 0;"> <!-- Removed bullet points and padding -->
        {% for article in articles %}
          <li style="margin-bottom: 20px; padding-bottom: 20px; border-bottom: 1px solid #ddd;"> <!-- Added a subtle line between articles -->
            {% if article.image %}
              <a href="{% url 'article_detail' article.id %}" style="display: block;">
                <img src="{{ article.image.url }}" alt="{{ article.title }}" 
                  style="max-width: 300px; max-height: 150px; width: 100%; height: auto; object-fit: cover; 
                        transition: transform 0.3s ease;"/>
              </a>
            {% endif %}
            <h4>
              <a href="{% url 'article_detail' article.id %}" style="color: black; text-decoration: none;">
                {{ article.title }}
              </a>
            </h4>
            <p>Written by {{ article.author.username }}</p>
            <p>{{ article.created_at|date:"M d, Y" }}</p> <!-- Show date in "Jan 30, 2024" format -->
            <p>{{ article.content|truncatewords:20 }}</p> <!-- Show a short excerpt of the article content (20 words) -->
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p>No articles available.</p>
    {% endif %}
</div>
<style>
    img:hover {
      transform: scale(1.05); /* Increases the size of the image by 5% */
    }
</style>
{% endblock content %}